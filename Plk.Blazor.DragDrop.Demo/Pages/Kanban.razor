@page "/kanban"
@using Plk.Blazor.DragDrop.Demo.Components
@using Plk.Blazor.DragDrop.Demo.Data

<div class="bg-success">You can drag items with name "Item 1" from one dropzone to another dropzone.</div>

<hr />

<div class="row bg-light py-4">
    <div class="col">
        <p>To Do</p>
        <Dropzone Items="MyFirstList" TItem="TodoItem" OnItemDrop="@((i)=>lastdropped = i)" Class="h-100">
            <ChildContent>
                <div class="card" style="border-left: 3px solid black">
                    <div class="card-body">
                        <h6>@context.Title</h6>
                        <p>Sapien elit in malesuada semper mi, id sollicitudin urna fermentum.</p>
                    </div>
                </div>
            </ChildContent>
            <Footer>
                <btn class="btn btn-primary">Load more</btn>
            </Footer>
        </Dropzone>
    </div>
    <div class="col">
        <p>In Progress</p>
        <Dropzone Items="MySecondList" TItem="TodoItem" OnItemDrop="@((i)=>lastdropped = i)" Class="h-100">
            <ChildContent>
                <div class="card" style="border-left: 3px solid orange">
                    <div class="card-body">
                        <h6>@context.Title</h6>
                        <p>Sapien elit in malesuada semper mi, id sollicitudin urna fermentum.</p>
                    </div>
                </div>
            </ChildContent>
            <Footer>
                <btn class="btn btn-primary">Load more</btn>
            </Footer>
        </Dropzone>
    </div>
    <div class="col">
        <p>Done</p>
        <Dropzone Items="MyThirdList" TItem="TodoItem" OnItemDrop="@((i)=>lastdropped = i)" Class="h-100">
            <div class="card" style="border-left: 3px solid green">
                <div class="card-body">
                    <h6>@context.Title</h6>
                    <p>Sapien elit in malesuada semper mi, id sollicitudin urna fermentum.</p>
                </div>
            </div>
        </Dropzone>
    </div>
</div>

<div>Last Dropped Item: @lastdropped?.Title</div>


@code {

    private TodoItem lastdropped { get; set; }

    public List<TodoItem> MyFirstList = new List<TodoItem>()
{
            new TodoItem(){Title = "Item 1"},
            new TodoItem(){Title = "Item 2"},
            new TodoItem(){Title = "Item 3"},
            new TodoItem(){Title = "Item 4"},
            new TodoItem(){Title = "Item 5"},
            new TodoItem(){Title = "Item 6"},
            new TodoItem(){Title = "Item 7"},
    };

    public List<TodoItem> MySecondList = new List<TodoItem>()
    {
            new TodoItem(){Title = "Item 8"},
            new TodoItem(){Title = "Item 9"},
            new TodoItem(){Title = "Item 10"},
    };

    public List<TodoItem> MyThirdList = new List<TodoItem>()
    {
    };

}
